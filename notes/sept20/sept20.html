<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-09-21 Thu 16:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Church encodings</title>
<meta name="author" content="Julian Grove" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../../htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../readtheorg.css"/>
<script src="../../jquery.min.js"></script>
<script src="../../bootstrap.min.js"></script>
<script type="text/javascript" src="../../readtheorg.js"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Church encodings</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org0232583">1. Review</a>
<ul>
<li><a href="#orgb2d427f">1.1. Booleans</a></li>
<li><a href="#orgac6f42e">1.2. Natural numbers</a></li>
<li><a href="#org2a89a1c">1.3. Pairing</a></li>
<li><a href="#org57eeff2">1.4. Lists</a></li>
</ul>
</li>
<li><a href="#orgd509831">2. Exercises</a>
<ul>
<li><a href="#org93e4e29">2.1. Part 1</a></li>
<li><a href="#org024fffc">2.2. Part 2</a></li>
<li><a href="#orgefd4ca1">2.3. Part 3</a></li>
<li><a href="#org97f8a76">2.4. Part 4</a></li>
<li><a href="#org6375121">2.5. Part 5</a></li>
<li><a href="#orgebbf875">2.6. Part 6</a></li>
<li><a href="#org71c815a">2.7. Part 7</a></li>
<li><a href="#org0fc26b3">2.8. Part 8</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org0232583" class="outline-2">
<h2 id="org0232583"><span class="section-number-2">1.</span> Review</h2>
<div class="outline-text-2" id="text-1">
<p>
We looked at Church encodings of four different data types:
</p>
<ul class="org-ul">
<li>Booleans</li>
<li>Natural numbers</li>
<li>Pairs</li>
<li>Lists</li>
</ul>
</div>

<div id="outline-container-orgb2d427f" class="outline-3">
<h3 id="orgb2d427f"><span class="section-number-3">1.1.</span> Booleans</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Booleans can be one of two values, \(𝕋\) and \(𝔽\). In Haskell, they are
represented by the algebraic data type <code>Bool</code>:
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #fb4933;">data</span> <span style="color: #d3869b;">Bool</span> <span style="color: #83a598;">=</span> <span style="color: #d3869b;">True</span> <span style="color: #83a598;">|</span> <span style="color: #d3869b;">False</span>
</pre>
</div>
<p>
In λ-calculus we can represent them as two λ-terms:
\[𝕋 ≝ λx, y.x\]
\[𝔽 ≝ λx, y.y\]
Defining Booleans this way allows us to define fun operations on Booleans,
such as:
\[\mathtt{ifThenElse} ≝ λp, x, y.p\,x\,y\]
\[\mathtt{not} ≝ λp.p\,𝔽\,𝕋\]
\[\mathtt{and} ≝ λp, q.p\,q\,𝔽\]
\[\mathtt{or} ≝ λp, q.p\,𝕋\,q\]
</p>
</div>
</div>

<div id="outline-container-orgac6f42e" class="outline-3">
<h3 id="orgac6f42e"><span class="section-number-3">1.2.</span> Natural numbers</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The natural numbers 0, 1, 2, etc., can be encoded in Haskell by the algebraic
data type <code>Nat</code>:
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #fb4933;">data</span> <span style="color: #d3869b;">Nat</span> <span style="color: #83a598;">=</span> <span style="color: #d3869b;">Zero</span> <span style="color: #83a598;">|</span> <span style="color: #d3869b;">Succ</span> <span style="color: #d3869b;">Nat</span>
</pre>
</div>
<p>
In λ-calculus we can represent them by using the following translation
(\(⌜·⌝\)):
\[⌜0⌝ ≝ λs, z.z\]
\[⌜\mathtt{Succ}\,n⌝ ≝ λs, z.s\,(⌜n⌝\,s\,z)\]
For example, \(1\) (i.e., \(\mathtt{Succ}\,0\)) would receive the translation
\(⌜\mathtt{Succ}\,0⌝ = λs, z.s\,(⌜0⌝\,s\,z) = λs, z.s\,((λs, z.z)\,s\,z)
   →_β^* λs, z.s\,(s\,z)\). In general, the number of occurrences of the variable
bound by the outer abstraction in the encoding of a natural number is just
that number.
</p>

<p>
We can now define functions on natural numbers, such as
\[\mathtt{succ} ≝ λn, s, z.s\,(n\,s\,z)\]
i.e., the successor function, which, given a natural number, takes its
successor. Other useful operations are
\[\mathtt{plus} ≝ λm, n.m\,\mathtt{succ}\,n\]
which takes the successor of \(n\) \(m\) times, and
\[\mathtt{mult} ≝ λm, n.m\,(\mathtt{plus}\,n)\,⌜0⌝\]
which adds \(n\) to \(0\) \(m\) times.
</p>
</div>
</div>

<div id="outline-container-org2a89a1c" class="outline-3">
<h3 id="org2a89a1c"><span class="section-number-3">1.3.</span> Pairing</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Taking a pair of two values can be done as follows:
\[⌜⟨a, b⟩⌝ ≝ λf.f\,⌜a⌝\,⌜b⌝\]
Given this encoding of pairing, we may define the following two <i>projection
functions</i>, which take the first and second projections of a pair,
respectively:
\[π₁ ≝ λp.p\,𝕋\]
\[π₂ ≝ λp.p\,𝔽\]
In Haskell, these functions correspond to the functions
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #fabd2f;">fst</span> <span style="color: #83a598;">::</span> (a, b) <span style="color: #83a598;">-&gt;</span> a
<span style="color: #fabd2f;">snd</span> <span style="color: #83a598;">::</span> (a, b) <span style="color: #83a598;">-&gt;</span> b
</pre>
</div>
<p>
which give back the first and second projections of a pair, respectively.
</p>
</div>
</div>

<div id="outline-container-org57eeff2" class="outline-3">
<h3 id="org57eeff2"><span class="section-number-3">1.4.</span> Lists</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Finally, lists! In Haskell, these are encoded as an algebraic data type
(equivalent to)
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #fb4933;">data</span> <span style="color: #d3869b;">List</span> a <span style="color: #83a598;">=</span> <span style="color: #d3869b;">Empty</span> <span style="color: #83a598;">|</span> <span style="color: #d3869b;">Cons</span> a (<span style="color: #d3869b;">List</span> a)
</pre>
</div>
<p>
In the λ-calculus, we may define them as using the translation
\[⌜[]⌝ ≝ λc, n.n\]
\[⌜a : l⌝ ≝ λc, n.c\,⌜a⌝\,(⌜l⌝\,c\,n)\]
For example, the the list \([1]\) would be translated as \(⌜[1]⌝ = λc,
   n.c\,⌜1⌝(⌜[]⌝\,c\,n) = λc, n.c\,⌜1⌝\,((λc, n.n)\,c\,n) →_β^* λc,
   n.c\,⌜1⌝\,n\).
</p>

<p>
We can now, e.g., take the length of a list in terms of a function
\[\mathtt{length} ≝ λl.l\,(λx.\mathtt{succ})\,⌜0⌝\]
and we can, e.g., take the head (i.e., first element) of a list using a
function
\[\mathtt{head} ≝ λl.l\,𝕋\,𝔽\]
Note that, if passed the empty list, \(\mathtt{head}\) just gives back \(𝔽\).
</p>
</div>
</div>
</div>

<div id="outline-container-orgd509831" class="outline-2">
<h2 id="orgd509831"><span class="section-number-2">2.</span> Exercises</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org93e4e29" class="outline-3">
<h3 id="org93e4e29"><span class="section-number-3">2.1.</span> Part 1</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Compute \(\mathtt{plus}\,⌜2⌝\,⌜3⌝\).
</p>
</div>
</div>

<div id="outline-container-org024fffc" class="outline-3">
<h3 id="org024fffc"><span class="section-number-3">2.2.</span> Part 2</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Define a function \(\mathtt{ifThen}\) which takes two truth values and gives
back \(𝕋\) if the first truth value is \(𝔽\) or the second truth value is \(𝕋\) (or
if both the first is \(𝔽\) and the second is \(𝕋\)). Do this without using either
\(\mathtt{not}\) or \(\mathtt{or}\) in your definition!
</p>
</div>
</div>

<div id="outline-container-orgefd4ca1" class="outline-3">
<h3 id="orgefd4ca1"><span class="section-number-3">2.3.</span> Part 3</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Define a function \(\mathtt{append}\) which takes two lists and appends
them. That is, \(\mathtt{append}\) should have the following behavior:
\[\mathtt{append}\,⌜[]⌝\,l ≡_β l\]
\[\mathtt{append}\,⌜a : l₁⌝\,l₂ ≡_β λc, n.c\,⌜a⌝\,(\mathtt{append}\,l₁\,l₂)\]
</p>
</div>
</div>

<div id="outline-container-org97f8a76" class="outline-3">
<h3 id="org97f8a76"><span class="section-number-3">2.4.</span> Part 4</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Define a function \(\mathtt{all}\) which, given a list of Booleans (i.e.,
either \(𝕋\) or \(𝔽\)), returns \(𝕋\) if all of them are \(𝕋\) and returns \(𝔽\)
otherwise.
</p>
</div>
</div>

<div id="outline-container-org6375121" class="outline-3">
<h3 id="org6375121"><span class="section-number-3">2.5.</span> Part 5</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Define a function \(\mathtt{any}\) which, given a list of Booleans (i.e.,
either \(𝕋\) or \(𝔽\)), returns \(𝕋\) if any of them is \(𝕋\) and returns \(𝔽\)
otherwise.
</p>
</div>
</div>

<div id="outline-container-orgebbf875" class="outline-3">
<h3 id="orgebbf875"><span class="section-number-3">2.6.</span> Part 6</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Define a function \(\mathtt{sum}\) which, given a list of natural numbers,
returns their sum.
</p>
</div>
</div>

<div id="outline-container-org71c815a" class="outline-3">
<h3 id="org71c815a"><span class="section-number-3">2.7.</span> Part 7</h3>
<div class="outline-text-3" id="text-2-7">
<p>
Define a function \(\mathtt{map}\) which, given a function \(f\) from \(a\)'s to
\(b\)'s, applies \(f\) to each member of a list of \(a\)'s to get back a list
of \(b\)'s. That is, \(\mathtt{map}\) should have the following behavior:
\[\mathtt{map}\,f\,⌜[]⌝ ≡_β ⌜[]⌝\]
\[\mathtt{map}\,f\,⌜a : l⌝ ≡_β λc, n.c\,(f\,⌜a⌝)\,(\mathtt{map}\,f\,⌜l⌝\,c\,n)\]
</p>
</div>
</div>

<div id="outline-container-org0fc26b3" class="outline-3">
<h3 id="org0fc26b3"><span class="section-number-3">2.8.</span> Part 8</h3>
<div class="outline-text-3" id="text-2-8">
<p>
Define a function \(\mathtt{filter}\) which, given a function \(f\) from \(a\)'s
to Booleans and a list of \(a\)'s, filters the list using \(f\). That is, it
returns a new list of \(a\)'s such that \(x\) is on the new list just in case
\(x\) was on  the old list and $f x →<sub>β</sub><sup>*</sup> 𝕋. In other words, \(\mathtt{filter}\)
should satisfy the following equivalences:
\[\mathtt{filter}\,f\,⌜[]⌝ ≡_β ⌜[]⌝\]
\[\mathtt{filter}\,f\,⌜a : l⌝ ≡_β λc, n.c\,⌜a⌝\,(\mathtt{filter}\,f\,⌜l⌝\,c\,n)\,\,\,\,\,\,\,\,\,\,\,\,\text{(if }f\,⌜a⌝ →_β^* 𝕋\text{)}\]
\[\mathtt{filter}\,f\,⌜a : l⌝ ≡_β \mathtt{filter}\,f\,⌜l⌝\,\,\,\,\,\,\,\,\,\,\,\,\text{(if }f\,⌜a⌝ →_β^* 𝔽\text{)}\]
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Julian Grove</p>
<p class="date">Created: 2023-09-21 Thu 16:51</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>